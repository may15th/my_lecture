drj 전 팔로워 기능까지 구현된 django파일

Ajax
js의 비동기 구조와 xml 객체를 활용해 지동기적으로 
서버와 통신하여 웹페이지의 일부분만을 
업데이트하는 웹 개발 기술

xml 대신에 xhr/json 기술을 사용하고 있따.


오늘 배운 내용 중 특히 어려운 부분
const csrf token 받아와서 axios의 headers: 값을 넣는 것.
dataset을 사용하는 방법
data-user-id
html attribute의 data-* 어쩌고저쩌고 하는부분을 dataset이라고 한다. 이것만 기억하면 된다.
그게 다다.
convention이 다른 건데, html에선 대소문자 구분 안했는데, DTL

form태그가 하는 일은 액션 따라가는 일이었음.
dtl따라가면서...
submit누르면 js가 axios 요청 서브밑 기본 동작 취소
input  submit버튼 클릭하면 이벤트는 인풋태그에서 서브밑 이벤트 발생
우리는 폼태그에서 이벤트 디포르 설정 우리는 폼태그에서 액션 지웠음 엑시오스에서 요청 보낼거니까.
액션 지웠다고 폼 태그가 서브밑 안하는 거 아니다;
액션이 공백이면 ->'' 현재위치로 요청 보내고

csrf_token이 뭐게요?
하니깐 input태그 타입이 "hidden" value "16진수 난수"로 이루어진 것이었다.

제목, 내용을 데이터라는 키값에 객체에다 담아야 할 것이다.
postman쓸 떄는 form-data에 담아줬던거랑 마찬가지임.

follow요청은 그냥 클릭만 하면 되는 것처럼.
headers라는 곳에 x-csrftoken이라는 값에.
내부적으로 코드 돌아간다고 할 ㅐ csrf token이 가지고 있는 key와 
일치해야한다.
안외우면 공식문서 들어가서 보면 되는 거고,..

주간 평가 남은건 js랑 vue이다.
기본적으로 사용법을 기억하는 거지

****
django에서 csrf token을 보내야 하는데
팔로우 기능을 보내야 하는데 새로고침이 되네
자바스크립트에서 ajax요청 비동기 요청 보내면 될 것 같아
비동기 요청 보내려 했더니 form 태그는 원래 해야하는 일이 액션에다가
자기가 갖고 있는 내부 인풋태그들의 value들을 해당 경로로 formdata로 요청 보내는 게 원래 
form tag가 하는 일인데, js axios로 요청 보내는 게 그걸 이제 내가 직접 경로,데이터 적고...
등 등 하는 것들이야.
뇌피셜로 적지 말고 공식문서 찾아서 적는 것.
여기까지가 요청 작성
****
요청이 있다면 응답도 있어야 해. view함수 전에 만들어 놨었는데view함수는 왜 고쳤어야 하는가.

응답받아온 데이터를 페이지가 새로고침 되는 게 아니라 
응다해준느 값이 리다이렉트 하는 게 아니라 json으로 response시켜주는 게 우리의 목적
axio가 ajax하는 게 우리의 목적?
json 형식의 데이터를 응답받기를 원한다.
axios가 데이터를 보냈다고 했을 때 
viewrk 리다이렉트해서 html반환된 게 새로고침 되는 것도 아니고
응답받는 결과  리스폰스에 데이터가 있는 것.

폼태그가 가지고 있는 요소가 사용자에게 어떻게 보일 것인가가 중요한 것.

이제 .js의 본 역할.
dom조작을 한다는 것.
DOM이 뭐였지? ㅋㅋㅋ
 
요청 보내서 응답 받아온 데이터의 정보에 따라서 
INPUT 태그 서브밑 버튼이 가지고 있을 내용이 팔로/언팔로

프로필 리다이렉트 해서 문서가 온다.

contet= {
  'is_followed': is_followed,
  'followings_count': you.folllo
}

json -자바스크립트 객체 표기열 파싱해서
문자열화 해서 응답해주면 js에서 자기한테 필요한 객체 형태로 돌려쓸 수 있도록

딕셔너리를 json형태로 파싱하는 과정이 필요하고
return시 jsonresponse로 한다...?

프로젝트할 떄 기획서에 적어놔라?
docs 만드는 작업?
내가 만약 follower기능 구현했는데, 응답받는 데이터들의 답들 불리언인지
인티저인지 적어놓으면 요청받아서 응답받아서 쓰는 사람 입장에선 큰 무리없이 쓸 수 있다.
평소에는 str int헷갈릴 일 없어.
사용자가 입력한 어떤 값이 있는데
인풋에 어떤 값이 입력 되었을 때 

dataset은 어떻게 해야 하는지. articles 다 있는데, django쓰는 것에 집중 하지말고
querselector랑 queryselectorall사용하는 방법 then catch사용하는 법.
적정한 dom을 조작하는 법